(function(){document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector("[data-sf-role='sf-change-password-container']"),n=t.querySelector("form");n.addEventListener("submit",function(t){if(t.preventDefault(),s(n)){var u={model:o(n)},f=n.attributes.action.value;window.fetch(f,{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}}).then(t=>{var u=t.status;u===0||u>=200&&u<400?(n.reset(),e()):t.json().then(t=>{var e=t.error.message,f;u==400?f=n.querySelector("input[name='NewPassword']"):u==403&&(f=n.querySelector("input[name='OldPassword']"));i(f);r(e,n)})})}});var e=function(){var i=t.querySelector("input[name='postChangeAction']").value,r,u;i==="ViewAMessage"?(r=t.querySelector("input[name='postChangeMessage']").value,l(r,n)):i==="RedirectToPage"&&(u=t.querySelector("input[name='redirectUrl']").value,c(u))},o=function(n){var t={},i=new FormData(n);for(var r of i.keys())t[r]=i.get(r);return t},s=function(n){var o,u,s,e,f;return(h(n),o=n.querySelectorAll("input[data-sf-role='required']"),u=!0,o.forEach(function(n){n.value||(i(n),u=!1)}),!u)?(f=t.querySelector("input[name='validationRequiredMessage']").value,r(f,n),u):(s=n.querySelector("input[name='NewPassword']"),e=n.querySelector("input[name='RepeatPassword']"),u&&e.value!==s.value&&(i(e),u=!1,f=t.querySelector("input[name='validationMismatchMessage']").value,r(f,n)),u)},i=function(n){n&&n.classList.add("is-invalid")},h=function(n){var t=n.querySelectorAll(".is-invalid");t.forEach(function(n){n.classList.remove("is-invalid")})},c=function(n){window.location=n},l=function(n,t){v(t);u(n,t,"[data-sf-role='success-message-container']")},r=function(n,t){a(t);u(n,t,"[data-sf-role='error-message-container']")},u=function(n,t,i){var r=t.querySelector(i);r.innerText=n;r.classList.add("d-block");r.classList.remove("d-none")},a=function(n){f(n,"[data-sf-role='success-message-container']")},v=function(n){f(n,"[data-sf-role='error-message-container']")},f=function(n,t){var i=n.querySelector(t);i.classList.add("d-none");i.classList.remove("d-block")}})})();