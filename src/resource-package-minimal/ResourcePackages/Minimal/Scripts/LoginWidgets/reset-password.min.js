document.addEventListener("DOMContentLoaded", (function () { var e = document.querySelector('[data-sf-role="sf-reset-password-container"]'), r = e.querySelector('[data-sf-role="form-container"]'), t = r.querySelector("form"), n = e.querySelector('[data-sf-role="error-message-container"]'), a = e.querySelector('[data-sf-role="success-message-container"]'); t.addEventListener("submit", (function (e) { if (e.preventDefault(), o(t)) { var u = { model: s(t) }, d = t.attributes.action.value; window.fetch(d, { method: "POST", body: JSON.stringify(u), headers: { "Content-Type": "application/json" } }).then((e => { var o, s = e.status; 204 === s ? (c(r), l(a)) : (400 == s ? o = t.querySelector("input[name='NewPassword']") : 403 == s && (o = t.querySelector("input[name='Answer']")), i(o), e.json().then((e => { var r = e.error.message; n.innerText = r, l(n) }))) })) } })); var o = function (e) { var t = !0; if (u(e), c(n), e.querySelectorAll("input[data-sf-role='required']").forEach((function (e) { e.value || (i(e), t = !1) })), !t) return n.innerText = r.querySelector("input[name='AllFieldsAreRequiredErrorMessage']").value, l(n), t; var a = e.querySelectorAll("[type='password']"); return a[0].value !== a[1].value ? (n.innerText = r.querySelector("input[name='PasswordsMismatchErrorMessage']").value, i(a[1]), l(n), !1) : t }, s = function (e) { var r = {}, t = new FormData(e); for (var n of t.keys()) r[n] = t.get(n); return r }, i = function (e) { e && (e.setAttribute("data-sf-invalid", ""), e.style.border = "1px solid red") }, u = function (e) { e.querySelectorAll("[data-sf-invalid]").forEach((function (e) { e.style.color = "" })) }, l = function (e) { e && (e.style.display = "") }, c = function (e) { e && (e.style.display = "none") } }));