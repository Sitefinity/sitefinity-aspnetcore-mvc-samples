document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector('[data-sf-role="sf-login-form-container"]'),n=e.querySelector('[data-sf-role="form-container"]'),t=n.querySelector("form"),r=e.querySelector('[data-sf-role="error-message-container"]');t.addEventListener("submit",(function(e){e.preventDefault(),new Promise(((e,n)=>{let t=new XMLHttpRequest;t.open("GET","/sitefinity/anticsrf"),t.setRequestHeader("X-SF-ANTIFORGERY-REQUEST","true"),t.responseType="json",t.onload=function(){const n=t.response;if(null!=n){const t=n.Value;document.querySelectorAll("input[name = 'sf_antiforgery']").forEach((e=>e.value=t)),e()}else e()},t.onerror=function(){n()},t.send()})).then((n=>{o(t)&&e.target.submit()}),(e=>{!function(e){document.getElementById("errorContainer").innerText=e}("Antiforgery token retrieval failed")}))}));var o=function(e){var t=!0;if(a(e),l(r),e.querySelectorAll("input[data-sf-role='required']").forEach((function(e){e.value||(i(e),t=!1)})),!t)return r.innerText=n.querySelector("input[name='ValidationRequiredMessage']").value,s(r),t;var o=e.querySelector("input[name='username']");return u(o.value)?t:(r.innerText=n.querySelector("input[name='ValidationInvalidEmailMessage']").value,i(o),s(r),!1)},i=function(e){e&&e.classList.add("is-invalid")},a=function(e){e.querySelectorAll(".is-invalid").forEach((function(e){e.classList.remove("is-invalid")}))},s=function(e){e&&(e.classList.add("d-block"),e.classList.remove("d-none"))},l=function(e){e&&(e.classList.add("d-none"),e.classList.remove("d-block"))},u=function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(e)}}));