@using Microsoft.AspNetCore.Mvc.Localization;

@model Renderer.ViewModels.LoginStatus.LoginStatusViewModel;

@inject IViewLocalizer Localizer

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        section-name="Top"
        asp-fallback-href="Scripts/bootstrap.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

<div class="qu-dropdown-selector dropdown d-flex justify-content-center">
    <a class="nav-link dropdown-toggle qu-dropdown-selector__button" href="#" id="qu_language_selector" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="fa fa-user"></span>
    </a>
    <ul class="dropdown-menu qu-dropdown-selector__menu" aria-labelledby="qu_language_selector">
        @if (Context.User != null && Context.User.Identity.IsAuthenticated)
        {
            var path = Context.Request.Scheme + "://" + Context.Request.Host + "/Sitefinity/SignOut";

            <li class="nav-item">
                <a class="dropdown-item" href="@path" target="_self">@Localizer["Logout"]</a>
            </li>
        }
        else
        {

            @if (Model.LoginPage != null)
            {
                <li class="nav-item">
                    <a class="dropdown-item nav-link" href="@Model.LoginPage.ViewUrl" target="_self">@Localizer["Login"]</a>
                </li>
            }
            @if (Model.RegistrationPage != null)
            {
                <li class="nav-item">
                    <a class="dropdown-item nav-link" href="@Model.RegistrationPage.ViewUrl" target="_self">@Localizer["RegisterNow"]</a>
                </li>
            }
        }
    </ul>

</div>